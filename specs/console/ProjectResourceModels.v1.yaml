title: ProjectResourceModels
type: object
description: Definitions of models related to Project resources
components:
  schemas:
    # A project definition
    Project:
      description: A Project
      type: object
      x-tags:
        - project
      properties:
        project_id:
          $ref: '../common/DataTypes.v1.yaml#/components/schemas/UUID'
          example: c69bc0e6-a429-11ea-bb37-0242ac130002
        name:
          type: string
          example: My first project
          description: The name of the project
        mode:
          type: string
          enum:
            - live
            - sandbox
            - disabled
          description: >
            A project and have the following modes:
            - `live`: relevant API interactions will incur a fee and our platform may interact with third party systems
            - `sandbox`: no charges will be incurred and no interactions will be made with third party systems
            - `disabled`: the project is in a state that it cannot be interacted with other than to enable it
        _links:
          type: object
          properties:
            self:
              $ref: ../common/Link.v1.yaml
        created_at:
          $ref: '../common/DataTypes.v1.yaml#/components/schemas/ISODateTime'
        updated_at:
          $ref: '../common/DataTypes.v1.yaml#/components/schemas/ISODateTime'
        capabilities:
          type: array
          items:
            anyOf:
              - $ref: '#/components/schemas/PhoneCheck'
        credentials:
          type: array
          items:
            anyOf:
              - $ref: '../common/CredentialTypes.v1.yaml#/components/schemas/client'
      required:
        - project_id
        - name
        - _links
        - created_at
        - updated_at
        - capabilities
        - credentials

    PhoneCheck:
      description: The ability to verify a phone
      type: object
      properties:
        # Should Project Capabilites directly name the types as properties rather than being an Array?
        type:
          description: The type of Project capability
          default: phone_check
        mode:
          description: Whether the phone check capability has been enabled on the project
          type: string
          enum:
            - enabled
            - disabled
      required:
        - type
        - enabled
      example:
        type: phone_check
        enabled: true

    CreateProjectPayload:
      type: object
      properties:
        name:
          type: string
          example: My first project
          description: A descriptive name of the Project
      required:
        - name
      description: The minimal structural representation to create a Project
      x-tags:
        - project

    ProjectCollection:
      description: A collection of Project items
      allOf:
        - $ref: ../common/PageBasedPagination.v1.yaml
        - type: object
          properties:
            _links:
              $ref: ../common/PaginationLinks.v1.yaml
            _embedded:
              type: object
              properties:
                projects:
                  type: array
                  items:
                    $ref: ./ProjectResourceModels.v1.yaml#/components/schemas/Project
