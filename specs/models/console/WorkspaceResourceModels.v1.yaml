title: WorkspaceResourceModels
type: object
description: Definitions of models related to Workspace resources
components:
  schemas:
    WorkspacePartial:
      description: A Workspace.
      type: object
      x-tags:
        - workspace
      properties:
        workspace_id:
          description: Workspace ID
          $ref: "../common/DataTypes.v1.yaml#/components/schemas/UUID"
        data_residency:
          $ref: "../common/DataTypes.v1.yaml#/components/schemas/DataResidency"
        name:
          description: Workspace name
          type: string
          minLength: 1
        created_at:
          description: Workspace creation date
          allOf:
            - $ref: ../common/DataTypes.v1.yaml#/components/schemas/ISODateTime
        _links:
          description: Links related to the current resource
          type: object
          properties:
            self:
              $ref: ../common/Link.v1.yaml
            credentials:
              $ref: ../common/Link.v1.yaml
            members:
              $ref: ../common/Link.v1.yaml
          required:
            - self
            - credentials
            - members
      required:
        - workspace_id
        - data_residency
        - name
        - created_at

    WorkspaceFull:
      description: A Workspace representation as used when a new Workspace is created.
      allOf:
        - $ref: "#/components/schemas/WorkspacePartial"
        - type: object
          properties:
            _embedded:
              description: Resources related to the resource request
              type: object
              required:
                - balance
                - me
              properties:
                balance:
                  description: Workspace balance data
                  type: object
                  required:
                    - currency
                    - amount_available
                    - amount_reserved
                    - credit_limit
                  properties:
                    currency:
                      $ref: "../common/DataTypes.v1.yaml#/components/schemas/Currency"
                    amount_available:
                      description: Workspace currency amount available
                      type: number
                    amount_reserved:
                      description: Workspace currency amount reserved
                      type: number
                    credit_limit:
                      description: Workspace credit limit
                      type: number
                me:
                  description: Workspace details about current user
                  type: object
                  required:
                    - member_id
                    - name
                    - role
                    - _links
                  properties:
                    member_id:
                      description: Workspace Member ID
                      $ref: "../common/DataTypes.v1.yaml#/components/schemas/UUID"
                    name:
                      description: Workspace user name
                      type: string
                      minLength: 1
                    role:
                      $ref: ../common/DataTypes.v1.yaml#/components/schemas/WorkspaceRole
                    _links:
                      description: Links related to the current resource
                      type: object
                      required:
                        - credentials
                      properties:
                        credentials:
                          $ref: ../common/Link.v1.yaml

    WorkspaceCollection:
      description: A collection of Workspace items
      allOf:
        - $ref: ../common/PageBasedPagination.v1.yaml#/components/schemas/PageBasedPaginationBody
        - type: object
          properties:
            _links:
              description: Links related to the current resource
              $ref: ../common/PaginationLinks.v1.yaml
            _embedded:
              description: Resources related to the resource request
              type: object
              properties:
                workspaces:
                  description: The Workspaces within the collection
                  type: array
                  items:
                    $ref: "#/components/schemas/WorkspacePartial"

  parameters:
    workspaceId:
      name: workspace_id
      description: The ID of the Workspace
      schema:
        $ref: "../common/DataTypes.v1.yaml#/components/schemas/UUID"
      in: path
      required: true
    memberId:
      name: member_id
      description: The ID of the Workspace Member
      schema:
        $ref: "../common/DataTypes.v1.yaml#/components/schemas/UUID"
      in: path
      required: true
